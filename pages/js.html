<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" rel="stylesheet"> 
    <title>JavaScript</title>
    <style>
        .wrapper{
            display: grid;
            grid-template-columns: repeat(2,1fr);
            justify-items: center; 
        }
        .items{
            width: 400px;
            height: 600px;
            border: 2px solid rgb(95, 85, 73);
            border-radius: 50px;
            padding: 65px;
            grid-column: span 1;
            margin-bottom: 20px;
            box-shadow: 1px 1px 6px 3px rgb(109, 108, 106);}
  
.left { 
  grid-area: left; 
  }
.right{ 
grid-area: right; 
  }

.form-div
{
    padding-bottom: 20px;
}
.flex-row
{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
}
.align-center
{
    text-align: center;
}
.input-text
{
    border-radius: 10px;
    background-color: rgb(250, 241, 230);
    border-color: rgb(107, 76, 46);
    width: 160px;
    height: 30px;
}

html,
body {
  margin: 0;
  padding: 0;
}
.chart__title {
  width: 100%;
  margin-bottom: 50px;
  font-size: 20px;
  font-weight: 300;
  text-align: center;
}

.chart__data {
  width: 250px;
}

.chart__input-group {
  display: flex;
  align-items: center;
  margin-bottom: 30px;
}

.chart__input-group:last-of-type {
  margin-bottom: 50px;
}

.chart__label {
  max-width: 100px;
  margin-right: auto;
}

.input-field {
  font-size: inherit;
  color: inherit;
  text-transform: uppercase;
  text-align: center;

  white-space: normal;
  border: 1px solid #260F01;
  border-radius: 5px;
  background-color: transparent;
}

.chart__input {
  width: 120px;
  margin-right: 5px;
}

.chart__submit-button {
  width: 100%;
  padding: 10px;

  cursor: pointer;
}

.chart__submit-button:hover {
  color: #1f2021;

  background-color: #D9C7B8;
}

.chart__canvas-wrapper {
  height: 250px;
  border: 1px solid #260F01;
  border-radius: 5px;
}
.container1{
        max-width: 1200px;
        text-align: center;
        margin: 30 auto;
        padding: 30px;
    }
    .slider{
        border: 3px solid #260F01;
        width: 256px;
        height: 188px;
        margin: 20px auto;
        overflow: hidden;
    }
    .slider-line{
        width: 1280px;
        height: 188px;
        display: flex;
        background: lightgray;
        position: relative;
        left: 0;
        transition: all ease 1s;
    }
    .mini{
        width: 256px;
    }
    </style>

     <script>
         function checkForm(){console.log("Проверка");
         var name = document.getElementById('name1').value;
         console.log(name);
         var fail="";
         var viv = name1.value +" "+ email.value +" "+ tel.value;  
         var tel = document.getElementById('tel');  
         if (name==""||email==""||tel=="") 
         fail="Заполните все поля.";    
         else if (name1.length<=1||name1.length>30)
         fail="Введите корректное имя.";
         else if (tel.length>10)
         fail = "Некорректный номер телефона.";
         if (fail != ""){
             document.getElementById('error').innerHTML=fail;
         } 
        else{
        document.getElementById('vivod').innerHTML=viv;
        } 
         return false;
         }

     </script>   
     
<script>
    function fanc(){
        document.getElementById('pochta').checked=true;
        document.getElementById('tel').checked=true;
        document.getElementById('nootv').checked=true;
    }
</script>

</head>

<body>

    <header class="header">
        <div class="header_wrapper">
            <div class="header_logo"><a href="../index.html"><img src="../images/cat.png" alt="Логотип" width="80"></a></div>
            <nav class="header_nav">           
                <ul class="header_menu">
                    <li class="header_item li_none"><a class = "a_underline" href="../index.html">О себе</a></li>
                    <li class="header_item li_none"><a class = "a_underline" href="../pages/resume.html"  target="_blank">Резюме</a></li>
                    <li class="header_item li_none"><a class = "a_underline" href="../pages/potfolio.html">Портфолио</a></li>
                    <li class="header_item li_none"><a class = "a_underline" href="../index.html#komp">Компетенции</a></li>
                    <li class="header_item li_none"><a class = "a_underline" href="../pages/contacts.html">Мои контакты</a></li>
                    <li class="header_item_last li_none"><a class = "a_underline" href="../pages/js.html">JavaScript</a></li>
                </ul>
            </nav>
            </div>
            <div class="header_preview">
                <h1>Веб - технологии</h1>
                <h3>Университет "Дубна"</h3>
                </div>
    </header>

    <main>
        <div>
            <div>Выберете тему:</div>
            <select name="" id="theme">
                <option value="auto">по умолчанию</option>
                <option value="light">светлая</option>
                <option value="dark">тёмная</option>
            </select>
            <script>
                function applyTheme(theme){
                    document.body.classList.remove("theme-auto", "theme-light", "theme-dark");
                    document.body.classList.add(`theme-${theme}`);
                }
                document.addEventListener("DOMContentLoaded", ()=>{
                document.querySelector("#theme").addEventListener("change", function(){
                    applyTheme(this.value);
                });});
                document.addEventListener("DOMContentLoaded", () => {
                    const savedTheme = localStorage.getItem("theme") || "auto";
                    applyTheme(savedTheme);
                    for (const optionElement of document.querySelectorAll("#theme option")){
                        optionElement.selected = savedTheme === optionElement.value;
                    }
                    document.querySelector("#theme").addEventListener("change", function (){
                        localStorage.setItem("theme", this.value);
                        applyTheme (this.value);
                    });
                });
            </script>
        </div>

    <div class="wrapper">

        <section class="items">
            <div class="left"></div>
        <div class="middle">
        <form action="" method="get" id="form1" onsubmit="return checkForm(this)">
            <div class="form-div" id="svaz">
                <div>Как вам удобно получить ответ?</div>
                <label for=""><input type="radio" id="pochta" value="по почте">по почте</label><br>
                <label for=""><input type="radio" id="tel" value="по телефону">по телефону</label><br>
                <label for=""><input type="radio" id="nootv" value="не отвечать">не отвечать</label><br>
            </div>
            <div class="form-div">
                <label for="theme">Укажите тему вопроса:</label>
                <select name="theme" id="theme" class="input-text">
                    <option value="">работа</option>
                    <option value="">сотрудничество</option>
                    <option value="">личное</option>
                </select>
            </div>
            <div class="form-div">
                <div>И еще один вопрос?</div>
                <label for="checkbox1"><input type="checkbox" name="" id="checkbox1">может так</label><br>
                <label for="checkbox2"><input type="checkbox" name="" id="checkbox2">или так</label><br>
                <label for="checkbox3"><input type="checkbox" name="" id="checkbox3">а может вот так</label>
            </div>
            <div class="form-div">
            <label for="name" class="flex-row">Ваше имя:</label>
            <input type="text" name="name1" id="name1" class="input-text">
        </div>
        <div class="form-div" id="email1">
            <label for="email" class="flex-row">Ваш email:</label>
            <input type="email" name="email" id="email" class="input-text">
        </div>
        <div class="form-div" id="tel1">
            <label for="tel" class="flex-row">Ваш номер телефона:</label>
            <input type="tel" name="tel" id="tel" class="input-text">
        </div>
        <div class="form-div">
           <div>Задайте вопрос:</div>
           <div>
               <textarea cols="30"></textarea>
           </div>
        </div>
        <div class="align-center">
          <input type="submit" value="Отправить вопрос" class="input-text">
        </div>
        <div id="error" style="color: sienna;"></div>
        <div id="vivod" style="color: brown;"></div>
        </form>
    </div>
    <div class="right"></div>
</section>


        <section class="items">
            <div class="noselect">
                
              <p>  Don't cry, snowman, not in front of me<br>
Who'll catch your tears if you can't catch me, darling?<br>
If you can't catch me, darling<br>
Don't cry snowman, don't leave me this way<br>
A puddle of water can't hold me close, baby<br>
Can't hold me close, baby<br>
</p>
<p>
I want you to know that I'm never leaving<br>
'Cause I'm Mrs. Snow, 'til death we'll be freezing<br>
Yeah, you are my home, my home for all seasons<br>
So come on, let's go<br>
</p>
<p>
Let's go below zero and hide from the sun<br>
I'll love you forever where we'll have some fun<br>
Yes, let's hit the North Pole and live happily<br>
Please don't cry no tears now<br>
It's Christmas, baby<br></p>
            </div>
            <div>
                <img src="" alt="">
            </div>
            <img src="../images/js.jpg" alt="Новогодний кот" width="400px">
        </section>


        <section class="items">
            <textarea id="textarea" cols="50" rows="30"></textarea>
            <button>Очистить</button>

<script>
        textarea.value = localStorage.getItem('area');
        textarea.oninput = () => {
          localStorage.setItem('area', textarea.value)
        };

    </script>
        </section>

        <section class="items">
            <h1 class="chart__title">Диаграмма "Популярность языков программирования"</h1>
            
            <form class="chart__data" action="#" method="POST">
              <div class="chart__input-group">
                <label class="chart__label" for="javascript">JavaScript</label>
                <input class="chart__input input-field" type="number" name="javascript" id="javascript" min="0" max="100" required>
                <span>%</span>
              </div>
        
              <div class="chart__input-group">
                <label class="chart__label" for="php">PHP</label>
                <input class="chart__input input-field" type="number" name="php" id="php" min="0" max="100" required>
                <span>%</span>
              </div>
        
              <div class="chart__input-group">
                <label class="chart__label" for="python">Python</label>
                <input class="chart__input input-field" type="number" name="python" id="python" min="0" max="100" required>
                <span>%</span>
              </div>
        
              <input class="chart__submit-button input-field" type="submit" value="Показать график">
            </form>
        
            <div class="chart__canvas-wrapper">
                <canvas id="canvas" width="500" height="250">Браузер не поддерживает Canvas</canvas>
            </div>
            <script>
                const MAX_PERCENTAGE = 100;

const COLORS = [
  `#BFAB99`,
  `#260F01`,
  `#8C5535`
];

const BarSize = {
  MAX_HEIGHT: 190,
  WIDTH: 50
};

const BarCoordinate = {
  INITIAL_X: 80,
  INITIAL_Y: 220
}

const Font = {
  SIZE: `18px`,
  FAMILY: `Tahoma`
};

const LabelCoordinate = {
  INITIAL_X: 30,
  INITIAL_Y: 70
}

const Gap = {
  HORIZONTAL: 60,
  VERTICAL: 30
}

const formElement = document.querySelector(`.chart__data`);
const inputElements = formElement.querySelectorAll(`.chart__input`);

const getData = (inputElements) => {
  return Array.from(inputElements).map((input, index) => ({
    name: input.name,
    value: input.value,
    color: COLORS[index]
  }));
};

const canvas = document.querySelector(`#canvas`);
const ctx = canvas.getContext(`2d`);

const renderChart = (items) => {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  let currentLabelY = LabelCoordinate.INITIAL_Y;
  let currentBarX = BarCoordinate.INITIAL_X;
  const gapBetweenBars = BarSize.WIDTH + Gap.HORIZONTAL;

  for (const item of items) {
    const barHeight = (item.value * BarSize.MAX_HEIGHT) / MAX_PERCENTAGE;
    
    ctx.fillStyle = item.color;
    ctx.font = `${Font.SIZE} ${Font.FAMILY}`;
    ctx.save();
    ctx.translate(0, canvas.height);
    ctx.rotate(-Math.PI/2);
    ctx.fillText(item.name.toUpperCase(), LabelCoordinate.INITIAL_X, currentLabelY);
    ctx.restore();
    ctx.fillRect(currentBarX, BarCoordinate.INITIAL_Y, BarSize.WIDTH, -barHeight);
    
    currentBarX += gapBetweenBars;
    currentLabelY += gapBetweenBars;
  }
};

formElement.addEventListener(`submit`, (evt) => {
  evt.preventDefault();
  renderChart(getData(inputElements));
  formElement.reset();
});
            </script>
          </section>

        
        <section class="items">
            <div class="container1">
                <div class="slider">
                    <div class="slider-line">
                        <img src="../images/1.jpg" alt="" class="mini">
                        <img src="../images/2.jpg" alt="" class="mini">
                        <img src="../images/3.jpg" alt="" class="mini">
                        <img src="../images/4.jpg" alt="" class="mini">
                        <img src="../images/5.jpg" alt="" class="mini">
                    </div>
                </div>
                <button class="slider-prev">Назад</button>
                <button class="slider-next">Вперед</button>
            </div>
            <script>
                let offset = 0;
                const sliderLine = document.querySelector('.slider-line');
                document.querySelector('.slider-next').addEventListener('click', function () {
                    offset = offset + 256;
                    //offset+=256;
                    if (offset > 1024){
                        offset = 0;
                    }
                sliderLine.style.left = -offset + 'px';
                })
                document.querySelector('.slider-prev').addEventListener('click', function () {
                    offset = offset - 256;
                    //offset+=256;
                    if (offset < 0){
                        offset = 1024;
                    }
                sliderLine.style.left = -offset + 'px';
                })
            </script>
        </section>
        <section class="items">Item 6</sectionv>

            <!-- <section>
                <h1>Хранение LocalStorage</h1>
                    <button class="ls">Нажать</button>
            </section>

            <script>
                let count = 0
                document.querySelector('ls').onclick = () =>{
                    count ++
                    localStorage.setItem('b1', count);
                };
            </script> -->
    </div>
</main>

<footer>
    <div class="footer_wrapper">
<p class="footer_all_icons">       
    <a class="footer_ico" href=""><img src="../images/vklogo.png" alt="Вконтакте" width="50"></a>
    <a class="footer_ico" href=""><img src="../images/githublogo.png" alt="GitHub" width="50"></a>
    <a class="footer_ico" href=""><img src="../images/instlogo.png" alt="Инстаграм" width="50"></a>
    <i class="footer_ico" class="fas fa-paw"></i>
</p>

    <p class="footer_text">Cайт разработан Чайка Жанной, Copyright © 2021</p> 
</div>
</footer>

<script>
    // document.getElementById('pochta').addEventListener("click", hiddenClose);
    // function hiddenClose(){
    //     let x = document.getElementById('tel1');
    //     if (x.style.display == "none"){
    //         x.style.display = "block";
    //     } else {
    //         x.style.display = "none";
    //     }
    // } 
    
    // document.getElementById('tel').addEventListener("click", hiddenClose1);
    // function hiddenClose1(){
    //     let y = document.getElementById('email1');
    //     if (y.style.display == "none"){
    //         y.style.display = "block";
    //     } else {
    //         y.style.display = "none";
    //     }
    // } 
    
    document.getElementById('svaz').addEventListener("click", hiddenClick);
    function hiddenClick(){
        let x = document.getElementById('tel1');
        let y = document.getElementById('email1');
        if (document.getElementById('pochta').checked){
            y.style.visibility = 'visible';
        } else {
            y.style.visibility = 'hidden';
        }
        if (document.getElementById('tel').checked){
            x.style.visibility = 'visible';
        } else {
            x.style.visibility = 'hidden';
        }
    }
  </script>
<script>
    localStorage.setItem('data', 7);
    console.log(localStorage.getItem('data'));
    const a = [4, 5, 6, 7, 8];
    localStorage.setItem('a', JSON.stringify(a));
    let b = localStorage.getItem('a');
    b = JSON.parse(b);
    console.log(b);
    console.log(b[0]);
    console.log(b[1]);
    console.log(typeof b);

    const c = {
        hello: 6,
        j: 3,
        4:'hi'};
        localStorage.setItem('c', JSON.stringify(c));
    let d = localStorage.getItem('c');
    d = JSON.parse(d);
    console.log(d);
    console.log(typeof d);
    window.addEventListener('storage')
</script>
</body>
</html>